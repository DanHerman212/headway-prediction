# Vizier Search Space Definition
# Maps model config keys to Vizier parameter specifications.
#
# Supported types:
#   DOUBLE: continuous range [min, max] with optional scaling (log, linear, reverse_log)
#   INTEGER: discrete integer range [min, max] with optional scaling
#   DISCRETE: specific ordered set of values (treated as numbers)
#   CATEGORICAL: unordered set of strings
#
# v2: Broadened for leakage-free dataset â€” wider LR range, deeper LSTM
#     search, higher dropout ceiling, gradient clip tuning.

parameters:
  model.learning_rate:
    type: DOUBLE
    min: 5.0e-5
    max: 5.0e-2
    scale: log

  model.hidden_size:
    type: DISCRETE
    values: [32, 64, 128, 256, 512]

  model.dropout:
    type: DOUBLE
    min: 0.05
    max: 0.5
    scale: linear

  model.attention_head_size:
    type: DISCRETE
    values: [1, 2, 4]

  model.hidden_continuous_size:
    type: DISCRETE
    values: [16, 32, 64, 128]

  model.lstm_layers:
    type: DISCRETE
    values: [1, 2, 3]

  model.reduce_on_plateau_patience:
    type: DISCRETE
    values: [2, 3, 4, 6]

  training.batch_size:
    type: DISCRETE
    values: [64, 128, 256, 512]

  training.gradient_clip_val:
    type: DOUBLE
    min: 0.01
    max: 1.0
    scale: log

metric:
  id: val_loss
  goal: minimize